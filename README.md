# Hand-Gesture-Recognition-Interactive-UI-Application
📸 "Interactive Reactions using Hand Gestures with ml5 in P5.js"


# 🎨 손 동작 인식 인터랙티브 UI 애플리케이션


## 🔴 시연 동영상
> 

## 🚀 프로젝트 소개

이 프로젝트는 **손 동작 인식**을 통해 사용자가 화면과 상호작용할 수 있는 **인터랙티브한 UI** 애플리케이션을 구현한 것입니다.  
**p5.js**와 **ml5.js**를 사용하여 손가락의 위치와 동작을 실시간으로 추적하고, 이를 통해 다양한 버튼과 메시지 애니메이션을 제공합니다.  
또한, 이 시스템은 **ManyCam**과 **Zoom** 카메라와 연동되어 **영상 통화** 중에도 실시간으로 손 동작 인식을 활용하여 **빠르고 편리한 커뮤니케이션**을 지원합니다.  

🔗 **궁극적으로 이 애플리케이션을 통해 영상 통화 시, 사용자는 빠르고 직관적인 커뮤니케이션을 할 수 있습니다**  

---

## 🔑 주요 기능

> 버튼 및 손 동작 인식  

1. **용기 버튼 💪**  
   검지 손가락을 용기 버튼에 가까이 대면, 화면에 폭죽 애니메이션과 함께 "포기하지 마세요!"라는 메시지가 표시됩니다.

2. **인사 버튼 👋**  
   검지 손가락을 인사 버튼에 가까이 대면, 화면에 인사 메시지 "안녕하세요, 반갑습니다!"가 나타납니다.

3. **사랑 버튼 ❤️**  
   검지 손가락을 사랑 버튼에 가까이 대면, 하트 애니메이션과 함께 "사랑해요~~"라는 메시지가 표시됩니다.

4. **감사 버튼 🙏**  
   검지 손가락을 감사 버튼에 가까이 대면, 화면에 감사 메시지 "감사합니다!"가 나타납니다. 

> 그리기 모드 & 지우기 모드  

5. **그리기/지우기 모드 📝**  
   ✏️ **그리기 모드**: 검지와 엄지를 가까이 대면 그리기 모드가 활성화됩니다. 그 상태에서 손가락을 이동시키면 화면에 선을 그릴 수 있습니다.  
   🧽 **지우기 모드**: 새끼손가락이 펼쳐지면 지우기 모드가 활성화됩니다. 새끼손가락으로 그림을 지울 수 있습니다.

---

## 🛠️ 설치 방법

- **필요한 라이브러리**: `ml5.js`, `p5.js`
- **설치**: `npm install p5 ml5`

---

## ⚙️ 동작 원리

1. **손 동작 인식** 🤚  
   ml5.js의 HandPose 모델을 사용하여 웹캡으로 실시간 손 동작을 인식합니다.  
   각 손가락의 끝 위치를 추적하여 버튼을 클릭하거나, 특정 메시지를 화면에 표시할 수 있습니다.  

2. **버튼 클릭 및 메시지 표시** 💬  
   각 버튼(용기, 인사, 사랑, 감사)의 영역 내에 손가락이 있으면, 해당 버튼에 맞는 메시지가 3초간 표시되고 점차적으로 사라집니다.  
   이 기능은 `millis()` 함수를 사용하여 타이밍을 제어합니다.  

3. **그리기/지우기 모드** ✏️🗑️  
   **검지와 엄지가 붙으면 그리기 모드**로 전환되고, **새끼손가락을 펼치면 지우기 모드**로 전환됩니다.  
   손의 상태를 실시간으로 감지하여 그리기와 지우기를 자동으로 전환합니다.

---

## 💻 코드 설명  

이 코드는 **p5.js**와 **ml5.js**를 사용하여 **웹캠**을 통한 **손 동작 인식** 및 **인터랙티브 UI**를 구성하는 프로그램입니다.  
주요 기능은 **손으로 그리기, 지우기**, 그리고 **버튼 클릭 시 메시지**를 화면에 표시하는 것입니다. 아래에서 각 부분을 자세히 설명해드리겠습니다.

---

### **핵심 변수**

1. **video, handPose, hands**:  
   - **video**: 웹캠으로 캡처한 비디오 데이터를 저장합니다.  
   - **handPose**: `ml5.js`의 손 동작 인식 라이브러리로, 손의 위치와 동작을 감지합니다.  
   - **hands**: 감지된 손 정보를 저장하는 배열입니다.

2. **drawing, currentStroke**:  
   - **drawing**: 그려진 선을 저장하는 배열입니다.  
   - **currentStroke**: 현재 그려지고 있는 선을 저장하는 배열입니다.

3. **isDrawingAllowed, prevOKState**:  
   - **isDrawingAllowed**: 그리기 모드가 허용된 상태인지를 확인합니다.  
   - **prevOKState**: 이전의 그리기 상태를 저장합니다.

4. **prevPoint**:  
   - 이전 손 위치를 저장하여, 연속된 선을 그릴 때 유용합니다.

5. **isPinching, isErasing**:  
   - **isPinching**: 손의 검지와 엄지가 붙었는지를 확인하는 변수입니다. 그리기 모드로 전환될 때 사용됩니다.  
   - **isErasing**: 지우기 모드 상태를 확인하는 변수입니다. 새끼손가락을 펴면 활성화됩니다.

6. **prevErasePoint**:  
   - 지우기 모드에서 지울 부분의 이전 위치를 저장합니다.

---

### **버튼 설정**

버튼은 화면에 그려지며, 각 버튼을 누르면 해당하는 메시지나 애니메이션이 실행됩니다:

- **buttonX, buttonY, buttonW, buttonH**: **용기 버튼** 위치와 크기
- **buttonX1, buttonY1, buttonW1, buttonH1**: **인사 버튼** 위치와 크기
- **buttonX2, buttonY2, buttonW2, buttonH2**: **사랑 버튼** 위치와 크기
- **buttonX3, buttonY3, buttonW3, buttonH3**: **감사 버튼** 위치와 크기

---

### **핸드 제스처**

`ml5.js`를 이용해 손의 동작을 감지하고, 그에 따라 그리기 모드 및 지우기 모드를 활성화합니다.

1. **detectHandGesture()**:  
   - 손 동작을 감지하여 **그리기 모드**와 **지우기 모드**를 활성화합니다.  
   - **그리기 모드**는 **검지와 엄지가 붙었을 때** 활성화되고, **지우기 모드**는 **새끼손가락이 펴졌을 때** 활성화됩니다.

2. **isPinchingGesture()**:  
   - 검지와 엄지가 가까운지 확인하여 그리기 모드를 활성화합니다.

3. **isPinkyUp()**:  
   - 새끼손가락이 펴졌는지 확인하여 지우기 모드를 활성화합니다.

---

### **기능별 처리**

1. **drawCourageButton()**, **drawGreetingButton()**, **drawLoveButton()**, **drawThanksButton()**:  
   - 각각 **용기 버튼**, **인사 버튼**, **사랑 버튼**, **감사 버튼**을 화면에 그립니다.  
   - 각 버튼은 지정된 위치와 크기대로 나타나며, 사용자 인터페이스(UI)로서 동작합니다.

2. **drawFireworks()**:  
   - **폭죽 애니메이션**을 화면에 그립니다.  
   - 일정 시간 동안 폭죽 효과를 주며, 이를 `millis()`를 사용하여 시간 차이를 계산하고 처리합니다.

3. **drawCourageMessage()**, **drawGreetingeMessage()**, **drawLoveMessage()**, **drawThankMessage()**:  
   - 각 버튼을 눌렀을 때 해당하는 메시지를 화면에 표시합니다.  
   - 메시지는 일정 시간(3초) 동안 나타나고, 시간이 지나면 점점 사라집니다. 

4. **Heart 클래스**:  
   - 사랑 버튼을 눌렀을 때 하트 애니메이션을 생성하여 화면에 표시합니다.  
   - 하트는 일정 시간 동안 커지고 위로 올라가며, 투명도는 점점 줄어듭니다.

5. **drawHearts()**:  
   - **하트 애니메이션**을 화면에 그립니다. 하트는 계속해서 생성되며, 생명 주기가 끝나면 사라집니다.

---

### **핸드 제스처에 따른 동작**

1. **지우기 모드**:  
   - 새끼손가락이 펴지면 지우기 모드로 전환됩니다. 그때 손을 따라 **선이 지워집니다**.  
   - **eraseAlongPinkyFinger()** 함수에서 **지우기 반경**을 설정하고, 손의 위치를 따라 **선이 삭제**되는 방식입니다.

2. **그리기 모드**:  
   - 검지와 엄지가 붙으면 **그리기 모드**로 전환되어, 손의 움직임에 따라 선을 그릴 수 있습니다.  
   - **drawWithIndexFinger()** 함수에서 **현재 좌표**와 **이전 좌표**를 연결하여 선을 그립니다.

3. **버튼 클릭 시 메시지 표시**:  
   - 각 버튼을 눌렀을 때, 해당 버튼 근처에 **검지 손가락**이 오면 **메시지**를 표시합니다.  
   - **checkCourageButton()** 함수에서 **검지 손가락의 위치**를 체크하여 각 버튼의 영역 내에 있을 경우 메시지를 표시합니다.

---

### **핵심적인 흐름**
- **손의 동작**에 따라 **그리기 모드**나 **지우기 모드**를 전환하고, **UI 버튼**을 통해 **인터랙티브한 경험**을 제공하는 구조입니다.  
- 각 버튼은 **화면 상의 특정 위치**에 배치되어 있고, **검지 손가락**이 해당 버튼 범위 내에 들어가면 그에 맞는 **메시지**나 **애니메이션**이 실행됩니다.  
- **폭죽**, **하트 애니메이션** 등은 각 버튼의 메시지를 강조하는 데 사용됩니다.

---

## 📌 결론

이 프로젝트는 **손 동작 인식**을 통해 **인터랙티브한 UI**를 구현한 예시입니다. **ManyCam**과 **Zoom**을 연동하여 **영상통화** 시, **손 동작을 인식하고** 실시간으로 다양한 메시지와 애니메이션을 표시할 수 있습니다. 이 시스템은 사용자와의 **직관적인 커뮤니케이션**을 가능하게 합니다. 🎉

---

## 🛠️ 기술 스택
- **p5.js**: 그래픽 및 상호작용을 다루는 라이브러리.
- **ml5.js**: 손 동작 인식을 위한 머신러닝 라이브러리.
- **JavaScript**: 주요 프로그래밍 언어.
- **ManyCam**: 가상 카메라 및 화면 캡처.
- **Zoom**: 영상 통화.

